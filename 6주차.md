
# [ê¸°íšì„œ](https://ovenapp.io/view/cAeItz2pfoYK0XLCZMkbXeF8OKBmG1Ls/) 

# DB table ì„¤ê³„
![travel-board.png](/img%2Ftravel-board.png)

```SQL
create table users (
                       id bigint not null auto_increment,
                       email varchar(320) unique not null,
                       password varchar(255) not null,
                       nickname varchar(45),
                       profile_image_url varchar(512),
                       bio varchar(300),
                       created_at timestamp default current_timestamp,
                       updated_at timestamp default current_timestamp on update current_timestamp,
                       primary key (id)
) engine=InnoDB;

create table post (
                      id bigint not null auto_increment,
                      location varchar(60) not null,
                      title varchar(255) not null,
                      content mediumtext,
                      views integer not null default 0,
                      post_writer_id bigint,
                      created_at timestamp default current_timestamp,
                      updated_at timestamp default current_timestamp on update current_timestamp,
                      primary key (id),
                      constraint FK_post_writer_id foreign key (post_writer_id) references users (id),
                      index idx_post_writer_id (post_writer_id)
) engine=InnoDB;

create table comment (
                         id bigint not null auto_increment,
                         content text,
                         comment_writer_id bigint,
                         post_id bigint,
                         created_at timestamp default current_timestamp,
                         updated_at timestamp default current_timestamp on update current_timestamp,
                         primary key (id),
                         constraint FK_comment_writer_id foreign key (comment_writer_id) references users (id)
                         constraint FK_comment_post_id foreign key (post_id) references post (id)
                         index idx_comment_writer_id (comment_writer_id),
                         index idx_comment_post_id (post_id)
) engine=InnoDB;

create table reply (
                       id bigint not null auto_increment,
                       content text,
                       reply_writer_id bigint,
                       comment_id bigint,
                       created_at timestamp default current_timestamp,
                       updated_at timestamp default current_timestamp on update current_timestamp,
                       primary key (id),
                       constraint FK_reply_writer_id foreign key (reply_writer_id) references users (id)
                       constraint FK_reply_comment_id foreign key (comment_id) references comment (id)
                       index idx_reply_writer_id (reply_writer_id),
                       index idx_reply_comment_id (comment_id)
) engine=InnoDB;

alter table post
    add constraint FK_post_writer_id
        foreign key (post_writer_id)
            references users (id);

alter table comment
    add constraint FK_comment_writer_id
        foreign key (comment_writer_id)
            references users (id);

alter table comment
    add constraint FK_comment_post_id
        foreign key (post_id)
            references post (id);

alter table reply
    add constraint FK_reply_writer_id
        foreign key (reply_writer_id)
            references users (id);

alter table reply
    add constraint FK_reply_comment_id
        foreign key (comment_id)
            references comment (id);
```

# API ìŠ¤íŒ© 

## ğŸ·ï¸Auth API
### ğŸ”–íšŒì› ê°€ì… 
- **POST /api/auth/signup**

#### Request 
##### Body
| ì´ë¦„ | íƒ€ì… | ì„¤ëª… | required |
|----|----|----|----|
| email | string | ì´ë©”ì¼ | O |
| password | string | ë¹„ë°€ë²ˆí˜¸ | O |
| nickname | string | ë‹‰ë„¤ì„ | O |
| profileImageUrl | string | í”„ë¡œí•„ ì´ë¯¸ì§€ URL | X |
| bio | string | ìê¸°ì†Œê°œ | X |

#### Response
##### ì„±ê³µ
- **Status Code**: 201 Created

##### ì‹¤íŒ¨ 
- **Status Code**: 400 Bad Request
- **Status Code**: 409 Conflict

---

### ğŸ”–ë¡œê·¸ì¸
- **POST /api/auth/login**

#### Request
##### Body
| ì´ë¦„ | íƒ€ì… | ì„¤ëª… | required |
|----|----|----|----|
| email | string | ì´ë©”ì¼ | O |
| password | string | ë¹„ë°€ë²ˆí˜¸ | O |

#### Response
##### ì„±ê³µ
- **Status Code**: 200 OK

###### Header

```HTTP
Set-Cookie: access_token=JWT_TOKEN; HttpOnly; Secure
```

##### ì‹¤íŒ¨
- **Status Code**: 400 Bad Request
- **Status Code**: 401 Unauthorized
- **Status Code**: 404 Not Found

---

### ğŸ”–ë¡œê·¸ì•„ì›ƒ
- **DELETE /api/auth/logout**

#### Request
##### Header
```HTTP
Cookie: access_token=JWT_TOKEN
```

#### Response
##### ì„±ê³µ
- **Status Code**: 204 No Content

##### ì‹¤íŒ¨
- **Status Code**: 401 Unauthorized
- **Status Code**: 404 Not Found

---

## ğŸ·ï¸User API

### ğŸ”–ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
- **GET /api/users/{userId}**

#### Request
##### Header

```HTTP
Cookie: access_token=JWT_TOKEN
```

##### Path Variable
- userId: ì¡°íšŒí•  ì‚¬ìš©ìì˜ ID

#### Response
##### ì„±ê³µ
- **Status Code**: 200 OK

###### Body
| ì´ë¦„ | íƒ€ì…     | ì„¤ëª… |
|----|--------|----|
| id | number | ì‚¬ìš©ì ID |
| email | string | ì´ë©”ì¼ |
| nickname | string | ë‹‰ë„¤ì„ |
| profileImageUrl | string | í”„ë¡œí•„ ì´ë¯¸ì§€ URL |
| bio | string | ìê¸°ì†Œê°œ |
| createdAt | string | ê°€ì…ì¼ |
| updatedAt | string | ìµœê·¼ ì •ë³´ ìˆ˜ì •ì¼ |

---

### ğŸ”–ì‚¬ìš©ì ì •ë³´ ìˆ˜ì •
- **PUT /api/users**
#### Request
##### Header

```HTTP
Cookie: access_token=JWT_TOKEN
```

##### Body
| ì´ë¦„ | íƒ€ì… | ì„¤ëª… | required |
|----|----|----|----------|
| password | string | ë¹„ë°€ë²ˆí˜¸ | O        |
| nickname | string | ë‹‰ë„¤ì„ | X        |
| profileImageUrl | string | í”„ë¡œí•„ ì´ë¯¸ì§€ URL | X        |
| bio | string | ìê¸°ì†Œê°œ | X        |

#### Response
##### ì„±ê³µ
- **Status Code**: 200 OK

##### ì‹¤íŒ¨
- **Status Code**: 400 Bad Request
- **Status Code**: 401 Unauthorized
- **Status Code**: 403 Forbidden
- **Status Code**: 404 Not Found

---

## ğŸ·ï¸Post API

### ğŸ”–ê²Œì‹œê¸€ ì‘ì„±
- **POST /api/posts**

#### Request
##### Header

```HTTP
Cookie: access_token=JWT_TOKEN
```

##### Body
| ì´ë¦„ | íƒ€ì… | ì„¤ëª…     | required |
|----|----|--------|----|
| location | string | ì¥ì†Œ | O |
| title | string | ì œëª© | O |
| content | string | ë‚´ìš© | O |

#### Response
##### ì„±ê³µ
- **Status Code**: 201 Created

##### ì‹¤íŒ¨
- **Status Code**: 400 Bad Request
- **Status Code**: 401 Unauthorized

---

### ğŸ”–ê²Œì‹œê¸€ ìˆ˜ì •
- **PUT /api/posts/{postId}**

#### Request
##### Header

```HTTP
Cookie: access_token=JWT_TOKEN
```

##### Path Variable
- postId: ìˆ˜ì •í•  ê²Œì‹œê¸€ì˜ ID

##### Body
| ì´ë¦„ | íƒ€ì… | ì„¤ëª…     | required |
|----|----|--------|----|
| location | string | ì¥ì†Œ | X |
| title | string | ì œëª© | X |
| content | string | ë‚´ìš© | X |

#### Response
##### ì„±ê³µ
- **Status Code**: 200 OK

##### ì‹¤íŒ¨
- **Status Code**: 400 Bad Request
- **Status Code**: 401 Unauthorized
- **Status Code**: 403 Forbidden
- **Status Code**: 404 Not Found

---

### ğŸ”–ê²Œì‹œê¸€ ì‚­ì œ
- **DELETE /api/posts/{postId}**

#### Request
##### Header

```HTTP
Cookie: access_token=JWT_TOKEN
```

##### Path Variable
- postId: ì‚­ì œí•  ê²Œì‹œê¸€ì˜ ID

#### Response
##### ì„±ê³µ
- **Status Code**: 204 No Content

##### ì‹¤íŒ¨
- **Status Code**: 401 Unauthorized
- **Status Code**: 403 Forbidden
- **Status Code**: 404 Not Found

---

### ğŸ”–ê²Œì‹œê¸€ ë‹¨ê±´ ì¡°íšŒ

- **GET /api/posts/{postId}**

#### Request
##### Path Variable
- postId: ì¡°íšŒí•  ê²Œì‹œê¸€ì˜ ID

#### Response
##### ì„±ê³µ
- **Status Code**: 200 OK

###### Body
| ì´ë¦„ | íƒ€ì… | ì„¤ëª… |
|----|----|----|
| id | number | ê²Œì‹œê¸€ ID |
| location | string | ì¥ì†Œ |
| title | string | ì œëª© |
| content | string | ë‚´ìš© |
| views | number | ì¡°íšŒìˆ˜ |
| postWriterId | number | ê²Œì‹œê¸€ ì‘ì„±ì ID |
| postWriterNickname | string | ê²Œì‹œê¸€ ì‘ì„±ì ë‹‰ë„¤ì„ |
| createdAt | string | ì‘ì„±ì¼ |
| updatedAt | string | ìµœê·¼ ì •ë³´ ìˆ˜ì •ì¼ |

##### ì‹¤íŒ¨
- **Status Code**: 404 Not Found

---

### ğŸ”–ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ
- **GET /api/posts**

#### Request

##### Query Parameter

| ì´ë¦„             | íƒ€ì…     | ì„¤ëª…                       | required |
|----------------|--------|--------------------------|--------|
| page           | number | í˜ì´ì§€ ë²ˆí˜¸(ê¸°ë³¸ê°’: 1)           | X      |
| size           | number | í˜ì´ì§€ í¬ê¸°(ê¸°ë³¸ê°’: 10, ìµœëŒ€ê°’ 100) | X      |
| location       | string | ì¥ì†Œ                       | X      |
| title          | string | ì œëª©                       | X      |
| content        | string | ë‚´ìš©                       | X      |
| writerNickname | string | ì‘ì„±ì ë‹‰ë„¤ì„                  | X      |

#### Response
##### ì„±ê³µ
- **Status Code**: 200 OK

###### Body
| ì´ë¦„                    | íƒ€ì… | ì„¤ëª… |
|-----------------------|----|----|
| [].id                 | number | ê²Œì‹œê¸€ ID |
| [].location           | string | ì¥ì†Œ |
| [].title              | string | ì œëª© |
| [].content            | string | ë‚´ìš© |
| [].views              | number | ì¡°íšŒìˆ˜ |
| [].postWriterId       | number | ê²Œì‹œê¸€ ì‘ì„±ì ID |
| [].postWriterNickname | string | ê²Œì‹œê¸€ ì‘ì„±ì ë‹‰ë„¤ì„ |
| [].createdAt          | string | ì‘ì„±ì¼ |
| [].updatedAt          | string | ìµœê·¼ ì •ë³´ ìˆ˜ì •ì¼ |

---

### ğŸ”–ê²Œì‹œê¸€ì˜ ëŒ“ê¸€ ì¡°íšŒ

- **GET /api/posts/{postId}/comments**

#### Request
##### Path Variable
- postId: ì¡°íšŒí•  ê²Œì‹œê¸€ì˜ ID

##### Query Parameter

| ì´ë¦„ | íƒ€ì… | ì„¤ëª… | required |
|----|----|----|----|
| page | number | í˜ì´ì§€ ë²ˆí˜¸(ê¸°ë³¸ê°’: 1) | X |
| size | number | í˜ì´ì§€ í¬ê¸°(ê¸°ë³¸ê°’: 10, ìµœëŒ€ê°’ 100) | X |

#### Response
##### ì„±ê³µ
- **Status Code**: 200 OK

###### Body

| ì´ë¦„                       | íƒ€ì… | ì„¤ëª… |
|--------------------------|----|----|
| [].id                    | number | ëŒ“ê¸€ ID |
| [].content               | string | ë‚´ìš© |
| [].commentWriterId       | number | ëŒ“ê¸€ ì‘ì„±ì ID |
| [].commentWriterNickname | string | ëŒ“ê¸€ ì‘ì„±ì ë‹‰ë„¤ì„ |
| [].createdAt             | string | ì‘ì„±ì¼ |
| [].updatedAt             | string | ìµœê·¼ ì •ë³´ ìˆ˜ì •ì¼ |
| [].replies               | array | ëŒ“ê¸€ì˜ ë‹µê¸€ ëª©ë¡ |
| [].replies[].id          | number | ë‹µê¸€ ID |
| [].replies[].content     | string | ë‚´ìš© |
| [].replies[].replyWriterId | number | ë‹µê¸€ ì‘ì„±ì ID |
| [].replies[].replyWriterNickname | string | ë‹µê¸€ ì‘ì„±ì ë‹‰ë„¤ì„ |
| [].replies[].createdAt   | string | ì‘ì„±ì¼ |
| [].replies[].updatedAt   | string | ìµœê·¼ ì •ë³´ ìˆ˜ì •ì¼ |

##### ì‹¤íŒ¨
- **Status Code**: 404 Not Found

---

### ğŸ”–ë‚´ ê²Œì‹œê¸€ ì¡°íšŒ
- **GET /api/posts/my**

#### Request
- **Query Parameter**: ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒì™€ ë™ì¼
##### Header

```HTTP
Cookie: access_token=JWT_TOKEN
```

#### Response
##### ì„±ê³µ
- **Status Code**: 200 OK
- **Body**: ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒì™€ ë™ì¼

##### ì‹¤íŒ¨
- **Status Code**: 401 Unauthorized
- **Status Code**: 404 Not Found

---

# maven vs gradle

[maven getting started guide](https://maven.apache.org/guides/getting-started/index.html)
[maven guide](https://www.baeldung.com/maven-guide)
[gradle guide](https://www.baeldung.com/gradle-guide)
[gradle user manual](https://docs.gradle.org/current/userguide/userguide.html)
[gradle ê³µì‹ë¬¸ì„œ maven vs gradle](https://gradle.org/maven-vs-gradle/)
